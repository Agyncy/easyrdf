<?xml version="1.0"?>

<project name="EasyRdf" default="test">
  <includepath classpath="./lib" />

  <fileset id="source" dir="${project.basedir}/lib">
    <include name="EasyRdf/*.php" />
    <include name="EasyRdf/Http/*.php" />
    <include name="EasyRdf/Owl/*.php" />
  </fileset>

  <fileset id="tests" dir="${project.basedir}/test">
    <include name="EasyRdf/*Test.php" />
    <include name="EasyRdf/Http/*Test.php" />
  </fileset>


  <target name="test">
    <phpunit haltonfailure="true" printsummary="true">
      <batchtest>
        <fileset refid="tests" />
      </batchtest>
    </phpunit>
  </target>

  <target name="docs">
    <phpdoc title="EasyRdf API Documentation"
      destdir="docs"
      sourcecode="no"
      undocumentedelements="yes"
      output="HTML:Smarty:PHP">
      <fileset refid="source" />
      <projdocfileset dir="${project.basedir}">
        <include name="README" />
        <include name="INSTALL" />
        <include name="CHANGELOG" />
      </projdocfileset>
    </phpdoc>
  </target>

  <target name="cs">
    <phpcodesniffer
      standard="ZEND"
      format="report">
      <fileset refid="source" />
      <fileset refid="tests" />
    </phpcodesniffer>
  </target>

  <target name="dist">
    <echo msg="Creating archive..." />
    <tar destfile="easyrdf.tar.gz" compression="gzip">
      <fileset refid="source" />
      <fileset refid="test" />
    </tar>
  </target>

</project>
